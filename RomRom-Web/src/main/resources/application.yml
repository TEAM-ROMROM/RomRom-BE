spring:
  profiles:
    active: prod
  config:
    import:
      - classpath:price-prediction.prompt.yml
      - classpath:admin.yml

  flyway:
    enabled: true
    baseline-on-migrate: true
    locations: classpath:db/migration
    sql-migration-suffixes: .sql
    validate-on-migrate: false # 마이그레이션 전 검증
    out-of-order: false
    repair-on-migrate: true  # 마이그레이션 전 자동 repair
    
  jpa:
    generate-ddl: true
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        show_sql: true
        format_sql: true
        open-in-view: false
        use_sql_comments: true
  data:
    mongodb:
      auto-index-creation: true
  servlet:
    multipart:
      enabled: true # 파일 업로드 허용
      max-file-size: 200MB # 업로드 파일 최대 크기
      max-request-size: 1000MB # 요청 전체 최대 크기
      file-size-threshold: 10MB
  mvc:
    format:
      date-time: "yyyy-MM-dd'T'HH:mm:ss"
    pathmatch:
      matching-strategy: ant_path_matcher

  jackson:
    serialization:
      write-dates-as-timestamps: false
    deserialization:
      adjust-dates-to-context-time-zone: false


springdoc:
  servers:
    - url: https://api.romrom.xyz
      description: main-server
    - url: https://api.test.romrom.xyz
      description: test-server
    - url: http://localhost:8080
      description: local-server

  default-consumes-media-type: application/json;charset=UTF-8
  default-produces-media-type: application/json;charset=UTF-8
  swagger-ui:
    path: /docs/swagger

server:
  forward-headers-strategy: framework

management:
  endpoints:
    web:
      exposure:
        include: health

suhapilog:
  enabled: true
  github:
    base-url: "https://github.com/TEAM-ROMROM/RomRom-BE"
  storage:
    path: "./github-issues" #기본값
  default-author: "Author 누락됨!"

suh-logger:
  # 전체 로깅 활성화 여부
  enabled: true                    # true(기본값), false

  # Response Body JSON pretty print 활성화 여부
  pretty-print-json: true         # false(기본값), true

  # Response Body 로깅 최대 크기 (bytes)
  max-response-body-size: 4096     # 양의 정수 (기본값: 4096)

  # 로깅에서 제외할 URL 패턴들
  exclude-patterns:                # 문자열 배열 (기본값: 빈 배열)
#    - "/actuator"                  # Spring Boot Actuator 제외
#    - "/health"                    # Health Check 제외
#    - "/login"                     # 로그인 엔드포인트 제외 (예시)
#    - "/logout"                    # 로그아웃 엔드포인트 제외 (예시)
#    - "/auth"                      # 인증 관련 엔드포인트 제외 (예시)

  # JSON 직렬화에서 제외할 클래스들
  excluded-classes:                # 문자열 배열 (기본값: 빈 배열)
#    - "org.springframework.web.multipart.MultipartFile"
#    - "java.util.Vector"
#    - "java.io.File"

  # 마스킹 관련 설정
  masking:
    header: true                   # true(기본값), false - 민감한 헤더 마스킹 여부

  # 헤더 로깅 관련 설정
  header:
    enabled: false                 # false(기본값), true - 전역 헤더 로깅 활성화 여부